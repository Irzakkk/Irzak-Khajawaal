{% comment %}
  File: sections/gift-guide-banner.liquid
  Purpose: Recreates the "Gift Guide" banner seen in the reference with:
  - Top announcement bar with right-aligned "CHOOSE GIFT →" button (yellow; hover → black)
  - Large hero with headline, paragraph, CTA button
  - Bottom slim strip tagline
  - All red-rectangle texts are editable via Theme Editor
  - Desktop + Mobile responsive layouts
  - Button animations and hover effects
{% endcomment %}

{% liquid
  assign sec = section
%}

<section id="gift-guide-{{ section.id }}" class="gift-guide-section">
  {%- style -%}
    #gift-guide-{{ section.id }} {
      --gg-max-w: 1280px;
      --gg-gap: 24px;
      --gg-radius: 14px;
      --gg-black: #0b0b0b;
      --gg-white: #ffffff;
      --gg-yellow: {{ section.settings.choose_btn_bg | default: '#FFE34D' }};
      --gg-yellow-dark: #f5d52d;
      --gg-gray: #e9e9e9;
      --gg-accent: #000000;
      position: relative;
      display: block;
      width: 100%;
      overflow: hidden;
      background: {{ section.settings.section_bg | default: '#ffffff' }};
    }

    /* Top announcement bar */
    #gift-guide-{{ section.id }} .gg-announcement {
      width: 100%;
      background: {{ section.settings.announcement_bg | default: '#efefef' }};
      border-bottom: 1px solid rgba(0,0,0,.06);
    }
    #gift-guide-{{ section.id }} .gg-announcement__inner {
      max-width: var(--gg-max-w);
      margin: 0 auto;
      padding: 10px 16px;
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 12px;
      font-size: 14px;
    }
    #gift-guide-{{ section.id }} .gg-announcement__text {
      text-align: center;
      opacity: .9;
    }
    #gift-guide-{{ section.id }} .gg-choose {
      justify-self: end;
      display: inline-flex;
      gap: 10px;
      align-items: center;
      background: var(--gg-yellow);
      color: #111;
      text-decoration: none;
      font-weight: 600;
      padding: 10px 16px;
      border-radius: 8px;
      border: 1px solid #111;
      transition: background .2s ease, color .2s ease, transform .2s ease, box-shadow .2s ease;
      will-change: transform;
    }
    #gift-guide-{{ section.id }} .gg-choose svg { width: 18px; height: 18px; }
    #gift-guide-{{ section.id }} .gg-choose:hover {
      background: #000; /* exact hover requirement */
      color: var(--gg-yellow);
      transform: translateY(-1px);
      box-shadow: 0 6px 18px rgba(0,0,0,.15);
    }

    /* Hero */
    #gift-guide-{{ section.id }} .gg-hero {
      position: relative;
      max-width: var(--gg-max-w);
      margin: 0 auto;
      padding: 56px 16px 28px;
      display: grid;
      grid-template-columns: 1.1fr 1fr;
      gap: 32px;
      align-items: center;
    }
    #gift-guide-{{ section.id }} .gg-hero__media {
      position: absolute;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 85%, rgba(0,0,0,0) 100%);
    }
    #gift-guide-{{ section.id }} .gg-hero__media img {
      width: 100%; height: 100%; object-fit: cover; object-position: center;
      opacity: 1;
    }
    #gift-guide-{{ section.id }} .gg-hero__content {
      position: relative;
      z-index: 1;
      max-width: 640px;
      padding: 40px 0 80px;
    }
    #gift-guide-{{ section.id }} .gg-heading {
      font-size: clamp(36px, 5.2vw, 84px);
      line-height: .95;
      letter-spacing: -.02em;
      font-weight: 700;
      color: #111;
      margin: 0 0 18px;
    }
    #gift-guide-{{ section.id }} .gg-subtext {
      font-size: clamp(14px, 1.5vw, 18px);
      line-height: 1.6;
      max-width: 560px;
      color: #111;
      background: rgba(255,255,255,.85);
      display: inline-block;
      padding: 16px 18px;
      border: 2px solid #111;
      border-radius: 6px;
    }

    /* CTA Button - black with arrow animation */
    #gift-guide-{{ section.id }} .gg-cta {
      margin-top: 22px;
      display: inline-flex;
      align-items: center;
      gap: 14px;
      background: #000;
      color: #fff;
      text-decoration: none;
      padding: 14px 22px;
      border-radius: 8px;
      border: 2px solid #000;
      font-weight: 600;
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease, color .2s ease;
      will-change: transform;
    }
    #gift-guide-{{ section.id }} .gg-cta .gg-arrow { transition: transform .2s ease; }
    #gift-guide-{{ section.id }} .gg-cta:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,.25); }
    #gift-guide-{{ section.id }} .gg-cta:hover .gg-arrow { transform: translateX(4px); }

    /* Bottom strip */
    #gift-guide-{{ section.id }} .gg-strip {
      width: 100%;
      border-top: 1px solid #111;
      border-bottom: 1px solid #111;
      background: #f7f7f7;
    }
    #gift-guide-{{ section.id }} .gg-strip__inner {
      max-width: var(--gg-max-w);
      margin: 0 auto;
      padding: 10px 16px;
      text-align: center;
      font-size: 12px;
      letter-spacing: .08em;
      font-weight: 600;
    }

    /* Responsive */
    @media (max-width: 989px) {
      #gift-guide-{{ section.id }} .gg-announcement__inner { grid-template-columns: 1fr; }
      #gift-guide-{{ section.id }} .gg-choose { justify-self: center; }
      #gift-guide-{{ section.id }} .gg-hero {
        grid-template-columns: 1fr;
        padding: 36px 16px 12px;
      }
      #gift-guide-{{ section.id }} .gg-hero__content { padding: 18px 0 36px; text-align: center; margin: 0 auto; }
      #gift-guide-{{ section.id }} .gg-subtext { display: block; margin: 0 auto; }
    }
  {%- endstyle -%}

  {%- comment -%} Announcement Bar {%- endcomment -%}
  <div class="gg-announcement">
    <div class="gg-announcement__inner">
      <div class="gg-announcement__text">{{ section.settings.announcement_text }}</div>
      {%- if section.settings.choose_btn_label != blank -%}
        <a class="gg-choose" href="{{ section.settings.choose_btn_link }}" aria-label="{{ section.settings.choose_btn_label }}">
          <span>{{ section.settings.choose_btn_label }}</span>
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M6 12h12m0 0-5-5m5 5-5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </a>
      {%- endif -%}
    </div>
  </div>

  {%- comment -%} Hero Background Image (desktop/mobile) {%- endcomment -%}
  <div class="gg-hero">
    <div class="gg-hero__media">
      {% if section.settings.bg_image != blank %}
        {%- render 'image', image: section.settings.bg_image, widths: '750,1100,1500,2000', sizes: '100vw', alt: section.settings.bg_image.alt | escape -%}
      {% else %}
        <img src="{{ 'placeholder-image.png' | asset_url }}" alt="" loading="lazy">
      {% endif %}
    </div>

    <div class="gg-hero__content">
      <h2 class="gg-heading">{{ section.settings.heading }}</h2>
      {%- if section.settings.subtext != blank -%}
        <div class="gg-subtext">{{ section.settings.subtext }}</div>
      {%- endif -%}
      {%- if section.settings.cta_label != blank -%}
        <a class="gg-cta" href="{{ section.settings.cta_link }}">
          <span>{{ section.settings.cta_label }}</span>
          <svg class="gg-arrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M6 12h12m0 0-5-5m5 5-5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </a>
      {%- endif -%}
    </div>
  </div>

  <div class="gg-strip">
    <div class="gg-strip__inner">{{ section.settings.bottom_strip_text }}</div>
  </div>
</section>

{% schema %}
{
  "name": "Gift Guide Banner",
  "tag": "section",
  "class": "section--gift-guide",
  "settings": [
    {"type": "color", "id": "section_bg", "label": "Section background", "default": "#ffffff"},

    {"type": "header", "content": "Top Announcement"},
    {"type": "text", "id": "announcement_text", "label": "Announcement text", "default": "Find the ideal gift for your loved ones."},
    {"type": "text", "id": "choose_btn_label", "label": "Choose gift button label", "default": "CHOOSE GIFT"},
    {"type": "url", "id": "choose_btn_link", "label": "Choose gift button link"},
    {"type": "color", "id": "announcement_bg", "label": "Announcement background", "default": "#efefef"},
    {"type": "color", "id": "choose_btn_bg", "label": "Choose button base color (yellow)", "default": "#FFE34D"},

    {"type": "header", "content": "Hero"},
    {"type": "image_picker", "id": "bg_image", "label": "Background illustration (desktop & mobile)"},
    {"type": "text", "id": "heading", "label": "Heading", "default": "The Gift Guide"},
    {"type": "richtext", "id": "subtext", "label": "Subheading paragraph", "default": "<p>Discover Joy: Your Ultimate Holiday Gift Destination. Explore our curated selection and find the perfect gifts to delight your loved ones this holiday season.</p>"},
    {"type": "text", "id": "cta_label", "label": "Primary CTA label", "default": "SHOP NOW"},
    {"type": "url", "id": "cta_link", "label": "Primary CTA link"},

    {"type": "header", "content": "Bottom strip"},
    {"type": "text", "id": "bottom_strip_text", "label": "Bottom strip text", "default": "SUSTAINABLE, ETHICALLY MADE CLOTHES IN SIZES XXS TO 6XL"}
  ],
  "blocks": [],
  "presets": [
    {"name": "Gift Guide Banner"}
  ]
}
{% endschema %}
